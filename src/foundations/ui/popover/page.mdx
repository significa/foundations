export const metadata = {
  title: "Popover",
  description: "A floating panel that is attached to a trigger element.",
  files: ["src/foundations/ui/popover/popover.tsx"],
  preview: "popover",
  dependencies: [
    {
      name: "Slot",
      href: "/components/slot",
    },
    {
      name: "useTopLayer",
      href: "/hooks/use-top-layer",
    },
    {
      name: "@floating-ui/react",
      href: "https://floating-ui.com/docs/react",
    },
  ],
};

## Features

- **Smart Positioning**: Automatically adjusts position to stay in view
- **Focus Management**: Optional modal mode with focus trapping
- **Search Support**: Built-in search input component
- **Empty States**: Dedicated component for empty state messages
- **Flexible Triggers**: Support for custom trigger elements

## Anatomy

```tsx
<Popover>
  <PopoverTrigger />
  <PopoverContent>
    <PopoverClose />
    <PopoverSearchInput />
    <PopoverEmpty />
  </PopoverContent>
</Popover>
```

## API Reference

### Popover

<PropsTable
  definition={{
    open: {
      type: "boolean",
      description: "Whether the popover is open.",
    },
    onOpenChange: {
      type: "(open: boolean) => void",
      description: "Callback fired when the open state changes.",
    },
    placement: {
      type: "Placement",
      description: "The placement of the popover relative to its trigger.",
      default: '"bottom"',
    },
    offset: {
      type: "number",
      description: "The distance between the popover and its trigger.",
      default: "4",
    },
    modal: {
      type: "boolean",
      description: "Whether to trap focus inside the popover.",
      default: "false",
    },
  }}
/>

### PopoverTrigger

Extends the `button` element.

<PropsTable
  definition={{
    asChild: {
      type: "boolean",
      description: "Whether to render the trigger as its child element.",
    },
  }}
/>

### PopoverContent

Extends the `div` element.

The content will be rendered in a portal and will be positioned relative to the trigger.

### PopoverClose

Extends the `button` element.

<PropsTable
  definition={{
    asChild: {
      type: "boolean",
      description: "Whether to render the close button as its child element.",
    },
  }}
/>

### PopoverSearchInput

Extends the `input` element.

A styled input with a search icon, useful for filtering content inside the popover.

### PopoverEmpty

Extends the `div` element.

A styled container for empty state messages.

## Examples

### Simple

Basic usage of the popover component.

<Preview slug="popover" />

### Placement

Controlling the position of the popover relative to its trigger.

<Preview slug="popover-placement" />

### Modal

A modal popover will trap focus inside, making it ideal for forms and other interactive content.

<Preview slug="popover-modal" />

### Custom Width

Example showing how to customize the popover width.

<Preview slug="popover-custom-width" />

### Search Input

Using the built-in search input for filtering content.

<Preview slug="popover-search" />

### Empty State

Displaying a message when no content is available.

<Preview slug="popover-empty" />

## Best Practices

1. **Positioning**:

   - Consider available screen space
   - Adjust offset based on content
   - Test on different screen sizes

2. **Focus Management**:

   - Use modal mode for complex interactions
   - Ensure keyboard navigation works
   - Provide clear focus indicators

3. **Content**:
   - Keep content concise
   - Use appropriate width for content
   - Consider mobile interactions
